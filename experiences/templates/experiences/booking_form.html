{% extends "base.html" %}
{% block content %}
<section class="hero" style="margin-bottom:2rem;">
  <h2>{{ package.name }}</h2>
  <p>{{ package.location }} · {{ package.get_category_display }}</p>
  <p>Includes meals: {{ package.includes_meals|yesno:"Yes,No" }} · Guide: {{ package.includes_guide|yesno:"Yes,No" }}</p>
  {% if quote %}
    <p style="font-size:1.4rem;font-weight:700;">Latest quote: ₹{{ quote }}</p>
  {% endif %}
</section>

{% if form.errors %}
  <div class="alert">
    <p>Please review the highlighted fields and try again.</p>
    {% if form.non_field_errors %}
      <ul>
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
{% endif %}

<form method="post">
  {% csrf_token %}
  <div class="field-grid">
    <div>
      {{ form.guest_name.label_tag }}{{ form.guest_name }}
      {% for error in form.guest_name.errors %}
        <p class="field-error">{{ error }}</p>
      {% endfor %}
    </div>
    <div>
      {{ form.guest_email.label_tag }}{{ form.guest_email }}
      {% for error in form.guest_email.errors %}
        <p class="field-error">{{ error }}</p>
      {% endfor %}
    </div>
    <div>
      {{ form.start_date.label_tag }}{{ form.start_date }}
      {% for error in form.start_date.errors %}
        <p class="field-error">{{ error }}</p>
      {% endfor %}
    </div>
    <div>
      {{ form.end_date.label_tag }}{{ form.end_date }}
      {% for error in form.end_date.errors %}
        <p class="field-error">{{ error }}</p>
      {% endfor %}
    </div>
    <div>
      {{ form.num_guests.label_tag }}{{ form.num_guests }}
      {% for error in form.num_guests.errors %}
        <p class="field-error">{{ error }}</p>
      {% endfor %}
    </div>
  </div>
  <button type="submit" class="btn">Reserve My Adventure</button>
</form>
{% endblock %}
